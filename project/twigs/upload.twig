{% extends 'page.twig' %}
{% import 'form.twig' as f %}

{% block scripts %}
<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.min.js"></script>
<script src="{{assets}}/js/forms.js"> </script>
{% endblock scripts %}

{% block css %}
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.min.css" />
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker3.min.css" />

{% endblock css %}


{% block header %}
    <article class="col-md-12">
	<h1 class="center-block">Upload</h1>
    </article>
{% endblock header %}

{% block main %}
    <section class="row">
        <div class="col-md-offset-3 col-md-6">
			
			<form action="#" method="post" id="publication" enctype="multipart/form-data" data-validate="parsley">
					 <div class="form-group">
					  <label for="category">Type of publication to submit:</label>
					  <select class="form-control" name="category" id="category">
						<option></option>
						<option>Paper</option>
						<option>Data</option>
						<option>Source code</option>
						<option>App</option>
					  </select>
					</div>
					 
					 
					 <span id="fields" class="hidden">
						{{f.text({label: 'Publication Name', name: 'pubname', required: 0})}}
						 
						<div id="authors">
						
							{{f.text({label: 'Author 1', name: 'authorArray[]', required: 1})}}
							
						</div>
						<button type="button" id="addauthor" value="Add author">
							<i class="fa fa-plus"></i>Add author
						</button>
						
						
						<!--  TODO change to required -->
					
						
						{{f.text({label: 'Subject', name: 'subject', required: 0})}}
						
						{{f.text({label: 'Institution name', name: 'instiname', required: 0})}}
						
						{{f.text({label: 'Institution country', name: 'country', required: 0})}}
						
						
						<span class="extra"></span>
						
						
						
							<label>Date</label>
							
								<div class="input-group input-append date" id="datepicker">
									<input type="text" class="form-control" name="date" />
									<span class="input-group-addon add-on"><i class="fa fa-calendar"></i></span>
								</div>
						
						
						
						
						{{f.textarea({label: 'Abstract', name: 'textabstract', id: 'abs', required: 0})}}
						
						{{f.file({label: 'Add file', name: 'file', required: 1})}}
					
					
					<button type="submit" class="btn btn-primary btn-lg">Update</button>
				</span>
			</form>
			
        </div>
        <div class="col-md-3">
	    <p>2 columns</p>
		
		
	</div>
    </section>
{% endblock main %}


{% block footer %}
    <article class="col-md-12">
        <p class="center-block">Footer</p>
    </article>
{% endblock footer %}


